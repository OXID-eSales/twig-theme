{% set _additionalParams = oView.getAdditionalParams() %}
{% set listType = oView.getListDisplayType() %}

<div class="btn-group">
    <button type="button" class="btn btn-default btn-sm dropdown-toggle" data-toggle="dropdown">
        <strong>{{ translate({ ident: "PRODUCTS_PER_PAGE" }) }}</strong>
        {% if oViewConf.getArtPerPageCount() %}
            {{ oViewConf.getArtPerPageCount() }}
        {% else %}
            {{ translate({ ident: "CHOOSE" }) }}
        {% endif %}
        <span class="caret"></span>
    </button>
    <ul class="dropdown-menu" role="menu">
        {% for iItemsPerPage in oViewConf.getNrOfCatArticles() %}
            <li>
                <a href="{{ oView.getLink()|add_url_parameters("ldtype=" ~ listType ~ "&amp;_artperpage=" ~ iItemsPerPage ~ "&amp;pgNr=0&amp;" ~ _additionalParams) }}" {% if oViewConf.getArtPerPageCount() == iItemsPerPage %} class="selected"{% endif %}>{{ iItemsPerPage }}</a>
            </li>
        {% endfor %}
    </ul>
</div>